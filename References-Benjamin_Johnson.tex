\documentclass[10pt]{article}

% ------------------------------------------------------------------------------

% References - Benjamin Johnson

% These are my professional references, used for job applications and such.

% ------------------------------------------------------------------------------

% This code is pretty messy at the moment, and was ripped unceremoniously from
% my resume.

% ------------------------------------------------------------------------------

% This is a helpful package that puts math inside length specifications
\usepackage{calc}

% % Simpler bibsection for CV sections
% % (thanks to natbib for inspiration)
% \makeatletter
% \newlength{\bibhang}
% \setlength{\bibhang}{1em}
% \newlength{\bibsep}
% {\@listi \global\bibsep\itemsep \global\advance\bibsep by\parsep}
% \newenvironment{bibsection}%
% {\vspace{-\baselineskip}\begin{list}{}{%
%       \setlength{\leftmargin}{\bibhang}%
%       \setlength{\itemindent}{-\leftmargin}%
%       \setlength{\itemsep}{\bibsep}%
%       \setlength{\parsep}{\z@}%
%       \setlength{\partopsep}{0pt}%
%       \setlength{\topsep}{0pt}}}
%   {\end{list}\vspace{-.6\baselineskip}}
% \makeatother

% Layout: Puts the section titles on left side of page
\reversemarginpar

%
%         PAPER SIZE, PAGE NUMBER, AND DOCUMENT LAYOUT NOTES:
%
% The next \usepackage line changes the layout for CV style section
% headings as marginal notes. It also sets up the paper size as either
% letter or A4. By default, letter was used. If A4 paper is desired,
% comment out the letterpaper lines and uncomment the a4paper lines.
%
% As you can see, the margin widths and section title widths can be
% easily adjusted.
%
% ALSO: Notice that the includefoot option can be commented OUT in order
% to put the PAGE NUMBER *IN* the bottom margin. This will make the
% effective text area larger.
%
% IF YOU WISH TO REMOVE THE ``of LASTPAGE'' next to each page number,
% see the note about the +LP and -LP lines below. Comment out the +LP
% and uncomment the -LP.
%
% IF YOU WISH TO REMOVE PAGE NUMBERS, be sure that the includefoot line
% is uncommented and ALSO uncomment the \pagestyle{empty} a few lines
% below.
%

%% Use these lines for letter-sized paper
\usepackage[paper=letterpaper,
            %includefoot, % Uncomment to put page number above margin
            marginparwidth=2.2cm,     % Length of section titles
            marginparsep=0.1cm,       % Space between titles and text
            margin=2cm,               % 1 inch margins
            includemp]{geometry}

%% Use these lines for A4-sized paper
% \usepackage[paper=a4paper,
%            %includefoot, % Uncomment to put page number above margin
%            marginparwidth=2.2cm,    % Length of section titles
%            marginparsep=1.0mm,       % Space between titles and text
%            margin=20mm,              % 25mm margins
%            includemp]{geometry}

%% More layout: Get rid of indenting throughout entire document
\setlength{\parindent}{0in}

%% This gives us fun enumeration environments. compactitem will be nice.
\usepackage{paralist}

%% Reference the last page in the page number
%
% NOTE: comment the +LP line and uncomment the -LP line to have page
%       numbers without the ``of ##'' last page reference)
%
% NOTE: uncomment the \pagestyle{empty} line to get rid of all page
%       numbers (make sure includefoot is commented out above)
%
\usepackage{fancyhdr,lastpage}
\pagestyle{fancy}
%\pagestyle{empty}      % Uncomment this to get rid of page numbers
\fancyhf{}\renewcommand{\headrulewidth}{0pt}
\fancyfootoffset{\marginparsep+\marginparwidth}
\newlength{\footpageshift}
\setlength{\footpageshift}
          {0.5\textwidth+0.5\marginparsep+0.5\marginparwidth-2in}
\lfoot{\hspace{\footpageshift}%
       \parbox{4in}{\, \hfill %
                    \arabic{page} of \protect\pageref*{LastPage} % +LP
%                    \arabic{page}                               % -LP
                    \hfill \,}}
\lfoot{\href{https://github.com/mangorune/cv}{github.com/mangorune/cv}}
\fancypagestyle{firststyle}
{
   \fancyhf{}\renewcommand{\headrulewidth}{0pt}
   %\fancyfoot[C]{\footnotesize Page \thepage\ of \pageref{LastPage}}
   \rfoot{hi}
}

% Finally, give us PDF bookmarks
\usepackage{color,hyperref}
\definecolor{darkblue}{rgb}{0.0,0.0,0.3}
\hypersetup{colorlinks,breaklinks,
            linkcolor=darkblue,urlcolor=darkblue,
            anchorcolor=darkblue,citecolor=darkblue}

%%%%%%%%%%%%%%%%%%%%%%%% End Document Setup %%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%% Helper Commands %%%%%%%%%%%%%%%%%%%%%%%%%%%%

% The title (name) with a horizontal rule under it
%
% Usage: \makeheading{name}
%
% Place at top of document. It should be the first thing.
\newcommand{\makeheading}[1]%
        {\hspace*{-\marginparsep minus \marginparwidth}%
         \begin{minipage}[t]{\textwidth+\marginparwidth+\marginparsep}%
                {\Large \bfseries #1}\\[-0.8\baselineskip]%
                 \rule{\columnwidth}{0.25pt}%
         \end{minipage}}

% The section headings
%
% Usage: \section{section name}
%
% Follow this section IMMEDIATELY with the first line of the section
% text. Do not put whitespace in between. That is, do this:
%
%       \section{My Information}
%       Here is my information.
%
% and NOT this:
%
%       \section{My Information}
%
%       Here is my information.
%
% Otherwise the top of the section header will not line up with the top
% of the section. Of course, using a single comment character (%) on
% empty lines allows for the function of the first example with the
% readability of the second example.
\renewcommand{\section}[2]%
        {\pagebreak[3]\vspace{1.3\baselineskip}%
         \phantomsection\addcontentsline{toc}{section}{#1}%
         \hspace{0in}%
         \marginpar{
         \raggedright \scshape #1}#2}

% An itemize-style list with lots of space between items
\newenvironment{outerlist}[1][\enskip\textbullet]%
        {\begin{itemize}[#1]}{\end{itemize}%
         \vspace{-.6\baselineskip}}

% An environment IDENTICAL to outerlist that has better pre-list spacing
% when used as the first thing in a \section
\newenvironment{lonelist}[1][\enskip\textbullet]%
        {\vspace{-\baselineskip}\begin{list}{#1}{%
        \setlength{\partopsep}{0pt}%
        \setlength{\topsep}{0pt}}}
        {\end{list}\vspace{-.6\baselineskip}}

% An itemize-style list with little space between items
\newenvironment{innerlist}[1][\enskip\textbullet]%
        {\begin{compactitem}[#1]}{\end{compactitem}}

% An environment IDENTICAL to innerlist that has better pre-list spacing
% when used as the first thing in a \section
\newenvironment{loneinnerlist}[1][\enskip\textbullet]%
        {\vspace{-\baselineskip}\begin{compactitem}[#1]}
        {\end{compactitem}\vspace{-.6\baselineskip}}

% To add some paragraph space between lines.
% This also tells LaTeX to preferably break a page on one of these gaps
% if there is a needed pagebreak nearby.
\newcommand{\blankline}{\quad\pagebreak[2]\vspace{-0.3\baselineskip}}


%%%%%%%%%%%%%%%%%%%%%%%% End Helper Commands %%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%% Begin CV Document %%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ------------------------------------------------------------------------------

%% Multilingual Support
\usepackage{polyglossia}
\setdefaultlanguage{english}
%\setotherlanguage{spanish}

%% Typeface choices
\usepackage{fontspec}

% We want to use ligatures by default in text fonts, but math and mono fonts may
% lack these features (for good reason), so we limit our scope.
\defaultfontfeatures[\rmfamily, \sffamily]{Ligatures={Common,TeX}}

% Used by any language without another font defined
% \setmainfont{Linux Libertine O}
% \setsansfont{Linux Biolinum O}
% \setmonofont{Inconsolata}
% \setmainfont{Source Serif Pro}
% \setsansfont{Source Sans Pro}
% \setmonofont{Source Code Pro}
\setmainfont{TeX Gyre Pagella}
\setsansfont{TeX Gyre Heros}
\setmonofont{Inconsolata}

% English
% Used as default language for the document
%\newfontfamily\englishfont[Script=Latin]{Noto Serif}

% ------------------------------------------------------------------------------

\usepackage[autostyle=true]{csquotes}

\usepackage{setspace}

% For units
\usepackage[binary-units]{siunitx}

% ------------------------------------------------------------------------------

% PACKAGES for TABLES and GRAPHICS

% Allows use of extra options on \includegraphics
\usepackage{graphicx}
% Allows use of \enumerate[...]
\usepackage{enumerate}
% Provides \multirow
\usepackage{multirow}

\usepackage{array}

% PACKAGES for COLORS

\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}

% PACKAGES for HYPERLINKS and METADATA

\usepackage{hyperref}
\usepackage{hyperxmp}

\hypersetup{
  colorlinks={true},
  %linkcolor={black},
  %urlcolor={black},
  pdfauthor={Benjamin Johnson}
}

% ------------------------------------------------------------------------------

% My own macros for consistent typesetting of certain nouns / abbreviations

\newcommand{\EASA}{\textsc{Easa}}
\newcommand{\easa}{\EASA}

\newcommand{\MATLAB}{\textsc{Matlab}}
\newcommand{\matlab}{\MATLAB}
\newcommand{\IGOR}{\textsc{Igor} Pro}
\newcommand{\igor}{\IGOR}

\newcommand{\html}{\textsc{Html}}
\newcommand{\css}{\textsc{Css}}
\newcommand{\php}{\textsc{Php}}

\newcommand{\cpp}{C\nolinebreak\hspace{-.05em}\raisebox{.2ex}
  {\small +}\nolinebreak\hspace{-.10em}\raisebox{.2ex}{\small +}}
%\newcommand{\cpp}{C++}

\newcommand{\gdb}{\textsc{Gdb}}
% \newcommand{\svn}{\textsc{svn}}

\newcommand{\risc}{\textsc{Risc}}

\newcommand{\apbs}{\textsc{Apbs}}
\newcommand{\cuda}{\textsc{Cuda}}

\newcommand{\boinc}{\textsc{Boinc}}
\newcommand{\slurm}{\textsc{Slurm}}

\newcommand{\ctan}{\textsc{Ctan}}
\newcommand{\gnu}{\textsc{Gnu}}

\newenvironment{workitem}[3]{%
  \textbf{#1} \hfill \textbf{#2} \\
  \emph{#3} \\
}{%
}

%\usepackage{tabularx}

\begin{document}
\makeheading{Benjamin Johnson}
%\thispagestyle{firststyle}

\section{Contact}% Information}
%
%% note that all lines after the section header must be commented in order for
%% the table to be positioned on the same line.
%%% Contact information
\begin{tabular}[t]
  {@{}p{4cm}>{\centering\arraybackslash}p{\textwidth-9.5cm}p{5.5cm}}
  \begin{tabular}[t]{@{}l@{}}
    Harvey Mudd College \\
    340 East Foothill Blvd \\
    Claremont, CA 91711
  \end{tabular}
  &
  \begin{tabular}[t]{@{}c@{}}
    OpenPGP Fingerprint \\
    \texttt{429C 43B8 94F7 67B4 D167} \\
    \texttt{D46C E50C F045 9621 433F}
  \end{tabular}
  &
  \begin{tabular}[t]{@{}l@{}}
    \href{tel:3477626467}{+1\,347\,762\,6467} \\
    \href{mailto:mangorune@gmail.com}{mangorune@gmail.com} \\
    \href{https://www.linkedin.com/in/mangorune}{linkedin.com/in/mangorune}
  \end{tabular}
\end{tabular}

%% References not listed on resume,
%% but available upon request (or looking at this code...)
\section{References}
%
%\begin{tabular}[t]{l p{0.4\textwidth}}
  %{@{}>{\centering\arraybackslash}p{5cm}
  %  >{\centering\arraybackslash}p{\textwidth-9.5cm}
  %  p{5.5cm}@{}}
%
%
%% My clinic project advisor, as well as math clinic director
\begin{tabular}[t]{@{}p{0.55\textwidth}p{0.4\textwidth}}
  \begin{tabular}[t]{@{}l@{}}
    \textbf{Weiqing Gu} \\
    Professor and Clinic Director, Mathematics \\
    Harvey Mudd College \\
    \href{tel:+19096218929}{+1\,909\,621\,8929} \\
    \href{mailto:gu@math.hmc.edu}{gu@math.hmc.edu}
  \end{tabular} &

  Professor Gu is the faculty advisor for my clinic team, overseeing our quantum
  communication project sponsored by HRL Laboratories (since fall 2015). She is
  also the director of the clinic program as a whole.
\end{tabular}

\vspace{1em}

%% My instructor in multiple CS courses at HMC
\begin{tabular}[t]{@{}p{0.55\textwidth}p{0.4\textwidth}}
  \begin{tabular}[t]{@{}l@{}}
    \textbf{Ran Libeskind-Hadas} \\
    Professor and Department Chair, Computer Science \\
    Harvey Mudd College \\
    \href{tel:+19096218976}{+1\,909\,621\,8976} \\
    \href{mailto:hadas@cs.hmc.edu}{hadas@cs.hmc.edu}
  \end{tabular} &

  Professor Ran was my instructor for two courses in algorithms,
  the first required for all CS and CS/Math majors (spring 2013), and the
  second an advanced topics course (spring 2015),
\end{tabular}

\vspace{1em}

%%  My physics major advisor, and my quantum information instructor
\begin{tabular}[t]{@{}p{0.55\textwidth}p{0.4\textwidth}}
  \begin{tabular}[t]{@{}l@{}}
    \textbf{Theresa Lynn} \\
    Associate Professor, Physics \\
    Harvey Mudd College \\
    \href{tel:+19096218024}{+1\,909\,607\,4493} \\
    \href{mailto:theresa_lynn@hmc.edu}{theresa\_lynn@hmc.edu}
  \end{tabular} &

  Professor Lynn is my physics major advisor (since spring 2014). She was also
  my instructor for a course in quantum information (spring 2014).
\end{tabular}

\vspace{1em}

%% My boss when I was in Search Infrastructure at Google
\begin{tabular}[t]{@{}p{0.55\textwidth}p{0.4\textwidth}}
  \begin{tabular}[t]{@{}l@{}}
    \textbf{Michael Eastham} \\
    Software Engineer \\
    Google \\
    \href{tel:+16502531157}{+1\,650\,253\,1157} \\
    \href{mailto:meastham@google.com}{meastham@google.com}
  \end{tabular} &

  Michael was my immediate supervisor during my internship in
  Search Infrastructure at Google (summer 2014).
\end{tabular}

\vspace{1em}

%% My boss when I was in KDI at PNNL
\begin{tabular}[t]{@{}p{0.55\textwidth}p{0.4\textwidth}}
  \begin{tabular}[t]{@{}l@{}}
    \textbf{Courtney Corley} \\
    Senior Data Scientist and Team Lead \\
    Pacific Northwest National Laboratory \\
    \href{tel:+15093752326}{+1\,509\,375\,2326} \\
    \href{mailto:court@pnnl.gov}{court@pnnl.gov}
  \end{tabular} &

  Court was my mentor's supervisor during my internship at
  Pacific Northwest National Laboratory (summer 2013). Besides the project I
  worked on with my mentor, I did some work directly for Court.
\end{tabular}

\vspace{1em}

%% My research advisor for summer chemistry research
\begin{tabular}[t]{@{}p{0.55\textwidth}p{0.4\textwidth}}
  \begin{tabular}[t]{@{}l@{}}
    \textbf{Lelia Hawkins} \\
    Assistant Professor, Chemistry \\
    Harvey Mudd College \\
    \href{tel:+19096218522}{+1\,909\,621\,8522} \\
    \href{mailto:lhawkins@g.hmc.edu}{lhawkins@g.hmc.edu}
  \end{tabular} &

  Professor Hawkins was my research advisor during my summer
  research in Chemistry at Harvey Mudd College (summer 2012).
\end{tabular}

\end{document}
